<html>

<head>
    <meta charset="utf-8">
    <title>Blog</title>
    <link rel="stylesheet" type="text/css" href="blog.css">
</head>

<body>
    <ul class="navbar">
        <li><a href="mypage.html">Home</a></li>
        <li><a href="favthings.html">Favourite Things</a></li>
        <li><a href="gallery.html">Gallery</a></li>
        <li class=active><a>Blog</a></li>
        <li><a href="contact.html">Contact</a></li>
    </ul>

    <br>
    
    <center><h1>Write Something </h1></center>
    
        <div>
            <input id="blogSbj" type="text" name="usrname" placeholder="Title" class="pos"><br><br>
            <center>
            <textarea rows="14" cols="100" placeholder="Write Here..." id="blogTxt"></textarea></center>
            <form onsubmit="blogPost()" id="blog-form"><br>
                <input class="pos" id="blogAlias" type="text" name="usrname" placeholder="Name"><br><br>
                <button class="pos" id="submit" type="submit">Submit</button>
            </form><br>
        </div>

    <div id="submittedDiv">

    </div>


    <script>
        function blogPost() {
            event.preventDefault()
            let blogTxt = document.getElementById("blogTxt").value
            let blogAlias = document.getElementById("blogAlias").value
            let blogSbj = document.getElementById("blogSbj").value
            let submittedDiv = document.getElementById("submittedDiv")
            let posts = JSON.parse(localStorage.getItem('posts')) || [];
            let htmlString = "<h2 id='subject'> Title:" + blogSbj + "</h2>" + '<p id="content" style="word-wrap: break-word;">' + blogTxt + "</p>" + "<p id='ime'> Written by: " + blogAlias + "</p>"
            posts.push(htmlString)
            localStorage.setItem('posts', JSON.stringify(posts))
            let newString = "";
            posts.forEach(element => {
                newString += element
                newString += "<hr>"
            });
            submittedDiv.innerHTML = newString
            console.log("posts = " + posts)
        }</script>
</body>

</html>